import{u as _}from"./printTemplateManager-qiRkbBE7.js";import{d as h,ak as D,A as T,o as i,c as n,g as a,b as l,t as c,a as p,i as m,p as u,T as x}from"./main-BgbWFIXK.js";import{b as B}from"./toggle-CP_W0i88.js";import{u as k,P as b}from"./printService-BW6jBw-w.js";const C={class:"flex items-center gap-2"},U={key:0,class:"inline-flex items-center rounded border-2 border-gray-300"},w={class:"border-gray-300 p-1 border-e-2"},N={key:1,class:"inline-flex items-center rounded border-2 border-gray-300"},A={class:"border-gray-300 p-1 border-e-2"},M={key:2,class:"inline-flex items-center rounded border-2 border-gray-300"},$={class:"border-gray-300 p-1 border-e-2"},z={key:3,class:"inline-flex items-center rounded border-2 border-gray-300"},E={class:"border-gray-300 p-1 border-e-2"},G=h({__name:"VisitPrintToggles",props:{branchId:{}},setup(v,{expose:y}){const d=v,g=k(),{hasPermissionTo:r}=x(),{hasDefaultDepWiseBarcodeTemplate:V,hasDefaultSampleWiseBarcodeTemplate:f,hasDefaultInvoiceTemplate:W,hasDefaultVisitBarcodeTemplate:I}=_(),e=D({visitBarcode:localStorage.getItem("autoPrintVisitBarcode")==="yes",sampleWiseBarcodes:localStorage.getItem("autoPrintSampleWiseBarcodes")==="yes",departmentWiseBarcodes:localStorage.getItem("autoPrintDepartmentWiseBarcodes")==="yes",invoice:localStorage.getItem("autoPrintInvoice")==="yes"}),S=()=>{localStorage.setItem("autoPrintVisitBarcode",e.visitBarcode?"yes":"no"),localStorage.setItem("autoPrintSampleWiseBarcodes",e.sampleWiseBarcodes?"yes":"no"),localStorage.setItem("autoPrintDepartmentWiseBarcodes",e.departmentWiseBarcodes?"yes":"no"),localStorage.setItem("autoPrintInvoice",e.invoice?"yes":"no")},P=s=>{if(r("Visit.printBarcode")&&e.visitBarcode&&g.visitBarcode(s.id,b.Direct,s.patient.name),r("Sample.print")&&(e.sampleWiseBarcodes||e.departmentWiseBarcodes)){const t=e.departmentWiseBarcodes?"departmentWise":"sampleTypeWise";g.sampleBarcodes(s.id,t,b.Direct,s.patient.name)}r("Invoice.print")&&e.invoice&&s.invoice&&g.invoice(s.invoice.id,b.Direct,s.patient.name)};return T(()=>e,()=>{S()},{deep:!0}),y({print:P}),(s,t)=>(i(),n("div",C,[a(r)("Visit.printBarcode")&&a(I)(d.branchId)?(i(),n("div",U,[l("span",w,c(a(u)("Visit barcode")),1),p(a(B),{modelValue:e.visitBarcode,"onUpdate:modelValue":t[0]||(t[0]=o=>e.visitBarcode=o),class:"p-0.5"},null,8,["modelValue"])])):m("",!0),a(r)("Sample.print")&&a(f)(d.branchId)?(i(),n("div",N,[l("span",A,c(a(u)("Sample wise")),1),p(a(B),{modelValue:e.sampleWiseBarcodes,"onUpdate:modelValue":t[1]||(t[1]=o=>e.sampleWiseBarcodes=o),onChange:t[2]||(t[2]=o=>e.departmentWiseBarcodes=!1),class:"p-0.5"},null,8,["modelValue"])])):m("",!0),a(r)("Sample.print")&&a(V)(d.branchId)?(i(),n("div",M,[l("span",$,c(a(u)("Department wise")),1),p(a(B),{modelValue:e.departmentWiseBarcodes,"onUpdate:modelValue":t[3]||(t[3]=o=>e.departmentWiseBarcodes=o),onChange:t[4]||(t[4]=o=>e.sampleWiseBarcodes=!1),class:"p-0.5"},null,8,["modelValue"])])):m("",!0),a(r)("Invoice.print")&&a(W)(d.branchId)?(i(),n("div",z,[l("span",E,c(a(u)("Invoice")),1),p(a(B),{modelValue:e.invoice,"onUpdate:modelValue":t[5]||(t[5]=o=>e.invoice=o),class:"p-0.5"},null,8,["modelValue"])])):m("",!0)]))}});export{G as _};
