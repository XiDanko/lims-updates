import{d as v,Y as n,Q as c,$ as l,u as w,r as d,o,c as s,a as p,w as a,k as h,b as r,F as i,a1 as b,T as x,t as u,R as C,i as k}from"./main-DNdNUUJ7.js";import{M as P}from"./Master-b_S4sXaO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"pe-1 h-[calc(100vh-8.6rem)] overflow-y-auto"},D={class:"grid grid-cols-1 gap-5 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},A={key:0,class:"rounded-2xl border-x-8 border-x-indigo-500 bg-gray-100 p-4 shadow"},B={class:"mb-3 text-xl font-semibold"},I={class:"h-20 overflow-y-auto"},L={class:"mt-3"},N=["onClick"],z=v({__name:"Tools",setup(V){const{hasPermissionTo:e}=x(),m=[{title:"Copy Price List",description:"Copies undefined prices from one price list to another with applied price and discount percentages.",route:"/tools/copy-price-list",hasPermission:e("Tools.copyPriceList")},{title:"Regenerate ID",description:"Regenerates primary id for branches, master definitions, price lists, users, roles and settings.",onActivate:()=>_(),hasPermission:e("Tools.regenerateId")},{title:"Copy Branch Data",description:"Copies master definitions, price lists, roles and settings from one branch to another.",route:"/tools/copy-branch-data",hasPermission:e("Tools.copyBranchData")},{title:"Clear Patients Data",description:"Deletes all patients and related data like visits, invoices, orders, results, etc...",onActivate:()=>f(),hasPermission:e("Tools.regenerateId")}],_=async()=>{e("Tools.regenerateId")&&n.fire({showLoaderOnConfirm:!0,preConfirm:async()=>{await c.post("/api/tools/regenerate-id"),l.fire(),w().logout()}})},f=async()=>{e("Tools.clearPatientsData")&&n.fire({showLoaderOnConfirm:!0,preConfirm:async()=>{await c.post("/api/tools/clear-patients-data"),l.fire()}})};return(O,R)=>{const g=d("router-view"),y=d("router-link");return o(),s(i,null,[p(g),p(P,null,{header:a(()=>[h("Tools")]),body:a(()=>[r("section",T,[r("div",D,[(o(),s(i,null,b(m,t=>(o(),s(i,null,[t.hasPermission?(o(),s("div",A,[r("header",B,u(t.title),1),r("main",I,u(t.description),1),r("footer",L,[t.hasOwnProperty("route")?(o(),C(y,{key:0,to:t.route,class:"rounded px-2 font-semibold text-blue-500 transition hover:bg-white hover:shadow"},{default:a(()=>[h("Activate")]),_:2},1032,["to"])):(o(),s("span",{key:1,onClick:t.onActivate,class:"cursor-pointer rounded px-2 font-semibold text-blue-500 transition hover:bg-white hover:shadow"},"Activate",8,N))])])):k("",!0)],64))),64))])])]),_:1})],64)}}});export{z as default};
