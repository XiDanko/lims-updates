import{d as y,f as N,e as S,g as i,x as k,Q as m,o as p,R as C,w as l,m as v,t as A,b as a,n as f,i as r,c as $,k as P,j as V,v as B,h as F,a as M,_ as R,a5 as T,a0 as D}from"./main-5548143a.js";import{P as n}from"./patientCallStatus-cce91589.js";const j=["onSubmit"],z={class:"mb-3 flex flex-wrap items-center"},E={key:0,class:"mt-1 w-full text-sm text-red-500"},I=a("span",{class:"mb-1 block"},"Notes",-1),L=["disabled"],q=y({__name:"FollowupForm",emits:["close"],setup(O,{emit:b}){const w=N(),h=S(),e=i({}),t=i(!1),u=i({});k(()=>_(w.params.id));const _=async o=>{const{data:s}=await m.get(`/api/followups/${o}`);e.value=s.data},x=async()=>{t.value=!0;try{await g(),u.value={},D.fire()}catch(o){u.value=o.response.data.errors??{}}t.value=!1},g=async()=>{await m.patch(`/api/followups/${e.value.id}`,e.value),d()},d=()=>{b("close"),h.back()};return(o,s)=>(p(),C(T,null,{header:l(()=>[v(" Calling "+A(e.value.phoneNumber),1)]),body:l(()=>[a("form",{id:"form",onSubmit:F(x,["prevent","stop"])},[a("div",z,[a("span",{class:f(["mr-2 cursor-pointer rounded bg-gray-200 p-1 px-3 transition hover:bg-emerald-500 hover:text-white hover:shadow",{"bg-emerald-500 text-white":e.value.callStatus===r(n).Answered}]),onClick:s[0]||(s[0]=c=>e.value.callStatus=r(n).Answered)},"Answered",2),a("span",{class:f(["mr-2 cursor-pointer rounded bg-gray-200 p-1 px-3 hover:bg-red-500 hover:text-white hover:shadow",{"bg-red-500 text-white":e.value.callStatus===r(n).NoAnswer}]),onClick:s[1]||(s[1]=c=>e.value.callStatus=r(n).NoAnswer)},"No Answer",2),u.value.hasOwnProperty("callStatus")?(p(),$("span",E,"Please select one of the above statuses.")):P("",!0)]),a("div",null,[I,V(a("textarea",{"onUpdate:modelValue":s[2]||(s[2]=c=>e.value.callNotes=c),class:"w-full rounded border border-gray-300 p-2 focus:border-blue-500"},null,512),[[B,e.value.callNotes]])])],40,j)]),footer:l(()=>[a("button",{class:"mr-2 btn-blue",disabled:t.value,form:"form"},[M(R,{"is-loading":t.value},{default:l(()=>[v("Save")]),_:1},8,["is-loading"])],8,L),a("button",{onClick:d,class:"btn-gray"},"Cancel")]),_:1}))}});export{q as default};
