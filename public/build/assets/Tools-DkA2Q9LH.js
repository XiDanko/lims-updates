import{d as w,Y as i,Q as a,$ as n,u as b,r as d,o,c as s,a as p,w as c,k as h,b as r,F as l,a1 as C,T as P,t as u,R as x,i as T}from"./main-DmoZ1fz4.js";import{M as k}from"./Master-ql31p3jM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"pe-1 h-[calc(100vh-8.6rem)] overflow-y-auto"},A={class:"grid grid-cols-1 gap-5 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},B={key:0,class:"rounded-2xl border-x-8 border-x-indigo-500 bg-gray-100 p-4 shadow"},L={class:"mb-3 text-xl font-semibold"},I={class:"h-20 overflow-y-auto"},M={class:"mt-3"},N=["onClick"],E=w({__name:"Tools",setup(O){const{hasPermissionTo:e}=P(),m=[{title:"Copy Price List",description:"Copies undefined prices from one price list to another with applied price and discount percentages.",route:"/tools/copy-price-list",hasPermission:e("Tools.copyPriceList")},{title:"Regenerate ID",description:"Regenerates primary id for branches, master definitions, price lists, users, roles and settings.",onActivate:()=>f(),hasPermission:e("Tools.regenerateId")},{title:"Copy Branch Data",description:"Copies master definitions, price lists, roles and settings from one branch to another.",route:"/tools/copy-branch-data",hasPermission:e("Tools.copyBranchData")},{title:"Merge Duplicate Patients",description:"Merge visits, health information, invoices and orders for patients with the same name, phone number and birthdate",onActivate:()=>g(),hasPermission:e("Tools.mergeDuplicatePatients")},{title:"Clear Patients Data",description:"Deletes all patients and related data like visits, invoices, orders, results, etc...",onActivate:()=>_(),hasPermission:e("Tools.regenerateId")}],f=async()=>{e("Tools.regenerateId")&&i.fire({showLoaderOnConfirm:!0,preConfirm:async()=>{await a.post("/api/tools/regenerate-id"),n.fire(),b().logout()}})},g=async()=>{e("Tools.mergeDuplicatePatients")&&i.fire({showLoaderOnConfirm:!0,preConfirm:async()=>{await a.post("/api/tools/merge-duplicate-patients"),n.fire()}})},_=async()=>{e("Tools.clearPatientsData")&&i.fire({showLoaderOnConfirm:!0,preConfirm:async()=>{await a.post("/api/tools/clear-patients-data"),n.fire()}})};return(V,R)=>{const v=d("router-view"),y=d("router-link");return o(),s(l,null,[p(v),p(k,null,{header:c(()=>[h("Tools")]),body:c(()=>[r("section",D,[r("div",A,[(o(),s(l,null,C(m,t=>(o(),s(l,null,[t.hasPermission?(o(),s("div",B,[r("header",L,u(t.title),1),r("main",I,u(t.description),1),r("footer",M,[t.hasOwnProperty("route")?(o(),x(y,{key:0,to:t.route,class:"rounded px-2 font-semibold text-blue-500 transition hover:bg-white hover:shadow"},{default:c(()=>[h("Activate")]),_:2},1032,["to"])):(o(),s("span",{key:1,onClick:t.onActivate,class:"cursor-pointer rounded px-2 font-semibold text-blue-500 transition hover:bg-white hover:shadow"},"Activate",8,N))])])):T("",!0)],64))),64))])])]),_:1})],64)}}});export{E as default};
