import{d as S,X as E,e as h,u as N,x as U,Q as y,U as k,o as i,c as n,a as m,w as b,b as e,g as _,h as o,i as d,v as x,n as r,t as f,W as u,_ as O,k as W,f as H,F as A,a2 as T,a3 as B,T as $,$ as z}from"./main-DNdNUUJ7.js";import{M as I}from"./Master-b_S4sXaO.js";import{A as L}from"./ActivityLogSidebar-DQgEnTl4.js";import{_ as D}from"./BranchSelect.vue_vue_type_script_setup_true_lang-BebEpNal.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./multiselect-K4eUN8Nz.js";const R={class:"flex items-center gap-3"},F=e("h1",null,"General Settings",-1),G=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",class:"h-5 w-5"},[e("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"})],-1),j=[G],Q={class:"h-[calc(100vh-8.6rem)] overflow-y-auto flex flex-col justify-between pt-2 pe-1"},X={class:"grid grid-cols-1 gap-4"},q={key:0,class:"relative"},J={class:"relative"},K={key:0,class:"text-sm text-red-500"},Y={class:"relative"},Z={class:"flex items-center input peer"},ee={class:"mr-5 flex items-center"},te=e("span",{class:"ml-1"},"None",-1),se={class:"mr-5 flex items-center"},ae=e("span",{class:"ml-1"},"SMS",-1),le={class:"mr-5 flex items-center"},oe=e("span",{class:"ml-1"},"Whatsapp",-1),ie={class:"mr-5 flex items-center"},ne=e("span",{class:"ml-1"},"Telegram",-1),re={class:"mr-5 flex items-center"},de=e("span",{class:"ml-1"},"Viber",-1),ue=e("label",{class:"label"},"Patient Contact Method",-1),ce={class:"relative"},pe={key:0,class:"text-sm text-red-500"},ve={class:"relative"},he={key:0,class:"text-sm text-red-500"},me={class:"mt-3 border-t-2 border-gray-200"},_e={class:"mt-3 flex items-center"},be=["disabled"],Ve=S({__name:"GeneralSettings",setup(xe){const w=E(),{hasPermissionTo:C}=$(),c=h(!1),s=h({}),g=N().user.branches,p=h(null),l=h({});U(()=>{p.value=g[0].id,M()});const M=async()=>{const{data:v}=await y.get(`/api/settings/general?branchId=${p.value}`);s.value=v.data},V=async()=>{c.value=!0;try{await y.patch("/api/settings/general",s.value),w.fetch(),l.value={},z.fire()}catch(v){l.value=v.response.data.errors??{}}c.value=!1};return(v,t)=>{const P=k("tip");return i(),n(A,null,[m(I,null,{header:b(()=>[e("div",R,[F,_(C)("ActivityLog.list")?o((i(),n("button",{key:0,onClick:t[0]||(t[0]=a=>_(T).emit(_(B).Show,s.value.id)),class:"cursor-pointer"},j)),[[P,"View Activities"]]):d("",!0)])]),body:b(()=>[e("form",{id:"form",onSubmit:H(V,["prevent"])},[e("div",Q,[e("div",X,[_(g).length>1?(i(),n("div",q,[m(D,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=a=>p.value=a),error:l.value.branchId,onSelect:M},null,8,["modelValue","error"])])):d("",!0),e("div",J,[o(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s.value.patientPhoneNumber=a),class:r(["input peer",{"border-red-500":l.value.hasOwnProperty("patientPhoneNumber")}])},null,2),[[x,s.value.patientPhoneNumber]]),e("label",{class:r(["label",{"text-red-500":l.value.hasOwnProperty("patientPhoneNumber")}])},"Patient Phone Number",2),l.value.hasOwnProperty("patientPhoneNumber")?(i(),n("p",K,f(l.value.patientPhoneNumber[0]),1)):d("",!0)]),e("div",Y,[e("div",Z,[e("label",ee,[o(e("input",{type:"radio",value:"none","onUpdate:modelValue":t[3]||(t[3]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),te]),e("label",se,[o(e("input",{type:"radio",value:"sms","onUpdate:modelValue":t[4]||(t[4]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),ae]),e("label",le,[o(e("input",{type:"radio",value:"whatsapp","onUpdate:modelValue":t[5]||(t[5]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),oe]),e("label",ie,[o(e("input",{type:"radio",value:"telegram","onUpdate:modelValue":t[6]||(t[6]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),ne]),e("label",re,[o(e("input",{type:"radio",value:"viber","onUpdate:modelValue":t[7]||(t[7]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),de])]),ue]),e("div",ce,[o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>s.value.resultEditorMaxWidth=a),class:r(["input peer",{"border-red-500":l.value.hasOwnProperty("resultEditorMaxWidth")}])},null,2),[[x,s.value.resultEditorMaxWidth]]),e("label",{class:r(["label",{"text-red-500":l.value.hasOwnProperty("resultEditorMaxWidth")}])},"Result Editor Max Width",2),l.value.hasOwnProperty("resultEditorMaxWidth")?(i(),n("p",pe,f(l.value.resultEditorMaxWidth[0]),1)):d("",!0)]),e("div",ve,[o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>s.value.resultEditorMaxHeight=a),class:r(["input peer",{"border-red-500":l.value.hasOwnProperty("resultEditorMaxHeight")}])},null,2),[[x,s.value.resultEditorMaxHeight]]),e("label",{class:r(["label",{"text-red-500":l.value.hasOwnProperty("resultEditorMaxHeight")}])},"Result Editor Max Height",2),l.value.hasOwnProperty("resultEditorMaxHeight")?(i(),n("p",he,f(l.value.resultEditorMaxHeight[0]),1)):d("",!0)])]),e("footer",me,[e("div",_e,[e("button",{class:"me-auto btn-blue",disabled:c.value,form:"form"},[m(O,{"is-loading":c.value},{default:b(()=>[W("Save")]),_:1},8,["is-loading"])],8,be)])])])],32)]),_:1}),m(L)],64)}}});export{Ve as default};
