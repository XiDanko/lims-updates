import{d as I,e as p,x as C,Q as V,o as u,R,w as l,k as _,t as n,g as a,b as s,c as v,i as h,f as d,a as S,_ as B,a4 as M,m as N,l as D,p as m,$ as T}from"./main-BgbWFIXK.js";import{A as b}from"./attachmentType-BPw9qDR8.js";import{u as A,P as f}from"./printService-BW6jBw-w.js";const E={key:0},F={class:"text-center"},L=["src"],Q={key:1},j={class:"text-center"},q=["src"],z=["disabled"],O=I({__name:"PremaritalPrintForm",emits:["close"],setup(G,{emit:g}){const P=g,w=N(),y=D(),t=p({}),i=p(!1),k=A();C(()=>{x(w.params.id)});const x=async r=>{const{data:e}=await V.get(`/api/premarital/visits/${r}`);t.value=e.data},c=async r=>{i.value=!0;try{await k.premaritalResult(t.value.id,r,`${t.number}-premarital-results`),T.fire()}catch{}i.value=!1},$=()=>{P("close"),y.back()};return(r,e)=>(u(),R(M,null,{header:l(()=>[_(n(a(m)("Print Results")),1)]),body:l(()=>[s("form",{id:"form",onSubmit:e[0]||(e[0]=d(o=>c(a(f).Direct),["prevent","stop"])),class:"grid grid-cols-2 gap-4"},[t.value.husbandInformation?(u(),v("div",E,[s("h1",F,n(t.value.husbandInformation.name),1),s("img",{src:t.value.husbandInformation.attachments.find(o=>o.type===a(b).ProfilePicture)?.path,alt:"",class:"rounded-lg shadow"},null,8,L)])):h("",!0),t.value.wifeInformation?(u(),v("div",Q,[s("h1",j,n(t.value.wifeInformation.name),1),s("img",{src:t.value.wifeInformation.attachments.find(o=>o.type===a(b).ProfilePicture)?.path,alt:"",class:"rounded-lg shadow"},null,8,q)])):h("",!0)],32)]),footer:l(()=>[s("button",{class:"me-2 btn-blue",disabled:i.value,form:"form",onClick:[e[1]||(e[1]=d(o=>c(a(f).Modal),["ctrl"])),e[2]||(e[2]=d(o=>c(a(f).Download),["shift"]))]},[S(B,{"is-loading":i.value},{default:l(()=>[_(n(a(m)("Print")),1)]),_:1},8,["is-loading"])],8,z),s("button",{onClick:$,class:"btn-gray"},n(a(m)("Cancel")),1)]),_:1}))}});export{O as default};
