import{d as y,e as c,x as S,A as m,o as p,C,w as l,k as v,t as N,b as a,n as f,g as r,c as k,i as A,h as V,v as $,f as P,a as B,_ as F,V as M,m as T,l as D,S as R}from"./main-c1f62c61.js";import{P as n}from"./patientCallStatus-cce91589.js";const z=["onSubmit"],E={class:"flex flex-wrap items-center mb-3"},I={key:0,class:"w-full text-red-500 text-sm mt-1"},L=a("span",{class:"block mb-1"},"Notes",-1),O=["disabled"],G=y({__name:"FollowupForm",emits:["close"],setup(U,{emit:b}){const w=T(),h=D(),e=c({}),t=c(!1),i=c([]);S(()=>_(w.params.id));const _=async o=>{const{data:s}=await m.get(`/api/followups/${o}`);e.value=s.data},x=async()=>{t.value=!0;try{await g(),R.fire()}catch(o){i.value=o.response.data.errors??{}}t.value=!1},g=async()=>{await m.patch(`/api/followups/${e.value.id}`,e.value),d()},d=()=>{b("close"),h.back()};return(o,s)=>(p(),C(M,null,{header:l(()=>[v(" Calling "+N(e.value.phoneNumber),1)]),body:l(()=>[a("form",{id:"form",onSubmit:P(x,["prevent","stop"])},[a("div",E,[a("span",{class:f(["transition cursor-pointer bg-gray-200 rounded p-1 px-3 mr-2 hover:shadow hover:bg-emerald-500 hover:text-white",{"bg-emerald-500 text-white":e.value.callStatus===r(n).Answered}]),onClick:s[0]||(s[0]=u=>e.value.callStatus=r(n).Answered)},"Answered",2),a("span",{class:f(["cursor-pointer bg-gray-200 rounded p-1 px-3 mr-2 hover:shadow hover:bg-red-500 hover:text-white",{"bg-red-500 text-white":e.value.callStatus===r(n).NoAnswer}]),onClick:s[1]||(s[1]=u=>e.value.callStatus=r(n).NoAnswer)},"No Answer",2),i.value.hasOwnProperty("callStatus")?(p(),k("span",I,"Please select one of the above statuses.")):A("",!0)]),a("div",null,[L,V(a("textarea",{"onUpdate:modelValue":s[2]||(s[2]=u=>e.value.callNotes=u),class:"w-full p-2 border border-gray-300 rounded focus:border-blue-500"},null,512),[[$,e.value.callNotes]])])],40,z)]),footer:l(()=>[a("button",{class:"btn-blue mr-2",disabled:t.value,form:"form"},[B(F,{"is-loading":t.value},{default:l(()=>[v("Save")]),_:1},8,["is-loading"])],8,O),a("button",{onClick:d,class:"btn-gray"},"Cancel")]),_:1}))}});export{G as default};
