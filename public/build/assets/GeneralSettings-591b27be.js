import{d as V,Y as E,g as b,u as k,x as C,Q as y,V as N,o,c as l,a as h,w as g,b as e,i as n,j as m,k as d,n as p,t as v,v as _,_ as O,m as A,h as H,F as B,a3 as I,a4 as W,T,a0 as z}from"./main-0c5e983d.js";import{M as L}from"./Master-2413594e.js";import{s as U}from"./multiselect-f0516a60.js";import{A as D}from"./ActivityLogSidebar-5a366e2e.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"flex items-center gap-3"},$=e("h1",null,"General Settings",-1),j=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",class:"h-5 w-5"},[e("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"})],-1),G=[j],R=["onSubmit"],Q={class:"h-[calc(100vh-8.6rem)] overflow-y-auto flex flex-col justify-between"},Y={key:0,class:"mb-3 flex flex-wrap items-center"},q=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Branch",-1),J={key:0,class:"ml-52 w-full text-sm text-red-500"},K={class:"mb-3 flex flex-wrap items-center"},X=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Patient Phone Number",-1),Z={key:0,class:"ml-52 w-full text-sm text-red-500"},ee={class:"mb-3 flex flex-wrap items-center"},te=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Result Editor Max Width",-1),re={key:0,class:"ml-52 w-full text-sm text-red-500"},se={class:"mb-3 flex flex-wrap items-center"},ae=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Result Editor Max Height",-1),oe={key:0,class:"ml-52 w-full text-sm text-red-500"},le={class:"mt-3 border-t-2 border-gray-200"},ne={class:"mt-3 flex items-center"},de=["disabled"],pe=V({__name:"GeneralSettings",setup(ie){const w=E(),{hasPermissionTo:M}=T(),i=b(!1),s=b({}),f=k().user.branches,u=b(null),t=b({});C(()=>{u.value=f[0].id,x()});const x=async()=>{const{data:c}=await y.get(`/api/settings/general?branchId=${u.value}`);s.value=c.data},S=async()=>{i.value=!0;try{await y.patch("/api/settings/general",s.value),w.fetch(),z.fire()}catch(c){t.value=c.response.data.errors??{}}i.value=!1};return(c,r)=>{const P=N("tip");return o(),l(B,null,[h(L,null,{header:g(()=>[e("div",F,[$,n(M)("ActivityLog.list")?m((o(),l("button",{key:0,onClick:r[0]||(r[0]=a=>n(I).emit(n(W).Show,s.value.id)),class:"cursor-pointer"},G)),[[P,"View Activities"]]):d("",!0)])]),body:g(()=>[e("form",{id:"form",onSubmit:H(S,["prevent"])},[e("div",Q,[e("div",null,[n(f).length>1?(o(),l("div",Y,[q,h(n(U),{modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=a=>u.value=a),options:n(f),onSelect:x,searchable:!0,"value-prop":"id","track-by":"searchableForm",label:"name","can-clear":!1,"can-deselect":!1,class:p(["flex-1 border border-gray-300 !rounded-r",{"!border-red-500":t.value.hasOwnProperty("branchId")}])},null,8,["modelValue","options","class"]),t.value.hasOwnProperty("branchId")?(o(),l("p",J,v(t.value.branchId[0]),1)):d("",!0)])):d("",!0),e("div",K,[X,m(e("input",{"onUpdate:modelValue":r[2]||(r[2]=a=>s.value.patientPhoneNumber=a),class:p(["flex-1 rounded-r border border-gray-300 p-2 focus:border-blue-500",{"!border-red-500":t.value.hasOwnProperty("patientPhoneNumber")}])},null,2),[[_,s.value.patientPhoneNumber]]),t.value.hasOwnProperty("patientPhoneNumber")?(o(),l("p",Z,v(t.value.patientPhoneNumber[0]),1)):d("",!0)]),e("div",ee,[te,m(e("input",{"onUpdate:modelValue":r[3]||(r[3]=a=>s.value.resultEditorMaxWidth=a),class:p(["flex-1 rounded-r border border-gray-300 p-2 focus:border-blue-500",{"!border-red-500":t.value.hasOwnProperty("resultEditorMaxWidth")}])},null,2),[[_,s.value.resultEditorMaxWidth]]),t.value.hasOwnProperty("resultEditorMaxWidth")?(o(),l("p",re,v(t.value.resultEditorMaxWidth[0]),1)):d("",!0)]),e("div",se,[ae,m(e("input",{"onUpdate:modelValue":r[4]||(r[4]=a=>s.value.resultEditorMaxHeight=a),class:p(["flex-1 rounded-r border border-gray-300 p-2 focus:border-blue-500",{"!border-red-500":t.value.hasOwnProperty("resultEditorMaxHeight")}])},null,2),[[_,s.value.resultEditorMaxHeight]]),t.value.hasOwnProperty("resultEditorMaxHeight")?(o(),l("p",oe,v(t.value.resultEditorMaxHeight[0]),1)):d("",!0)])]),e("footer",le,[e("div",ne,[e("button",{class:"mr-auto btn-blue",disabled:i.value,form:"form"},[h(O,{"is-loading":i.value},{default:g(()=>[A("Save")]),_:1},8,["is-loading"])],8,de)])])])],40,R)]),_:1}),h(D)],64)}}});export{pe as default};
