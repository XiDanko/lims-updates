import{d as S,e as T,o as d,c as l,g as a,a as m,w as b,k as f,_ as v,i as B,F as V,T as C}from"./main-DNdNUUJ7.js";import{a as W,u as x}from"./printService-Bcj_RmEK.js";import{P as _}from"./printTemplateType-BiK7zB0k.js";const y=["disabled"],M=["disabled"],N=["disabled"],O=S({__name:"OrdersPrint",props:{selectedOrders:{}},setup(g,{expose:k}){const{selectedOrders:i}=g,{hasPermissionTo:c}=C(),r=W(),e=T(!1),{getDefaultTemplate:p}=x(),u=async(n,t)=>{e.value=!0;const s=i.map(I=>I.id);let o;n==="sampleWise"?o=p(_.SampleBarcode,i[0].branchId).printer:o=p(_.SampleBarcodeDepWise,i[0].branchId).printer,await r.sampleBarcodes(s,n,{printMode:t,printer:o,fileName:"sample-barcodes"}),e.value=!1},P=async n=>{e.value=!0;const t=i.flatMap(o=>o.visitId),s=p(_.VisitBarcode,i[0].branchId).printer;await r.visitBarcode(t,{printMode:n,printer:s,fileName:"visit-barcode"}),e.value=!1};return k({printBarcodes:u}),(n,t)=>(d(),l(V,null,[a(c)("Visit.printBarcode")?(d(),l("button",{key:0,class:"btn-blue",disabled:e.value,onClick:t[0]||(t[0]=s=>P(a(r).detectPrintMode(s)))},[m(v,{"is-loading":e.value},{default:b(()=>[f("Visit Barcode")]),_:1},8,["is-loading"])],8,y)):B("",!0),a(c)("Sample.print")?(d(),l("button",{key:1,class:"btn-blue",disabled:e.value,onClick:t[1]||(t[1]=s=>u("sampleWise",a(r).detectPrintMode(s)))},[m(v,{"is-loading":e.value},{default:b(()=>[f("Barcodes S.W.")]),_:1},8,["is-loading"])],8,M)):B("",!0),a(c)("Sample.print")?(d(),l("button",{key:2,class:"btn-blue",disabled:e.value,onClick:t[2]||(t[2]=s=>u("departmentWise",a(r).detectPrintMode(s)))},[m(v,{"is-loading":e.value},{default:b(()=>[f("Barcodes D.W.")]),_:1},8,["is-loading"])],8,N)):B("",!0)],64))}});export{O as _};
