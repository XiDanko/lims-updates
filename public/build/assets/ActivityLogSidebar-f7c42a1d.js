import{d as y,e as x,x as k,W as w,X as f,Q as L,s as C,o as e,R as S,w as A,c as t,b as s,F as r,V as h,i as c,as as B,n as z,t as a,k as v,ad as M,ae as I}from"./main-56f58ed8.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";const n=l=>(M("data-v-6847a599"),l=l(),I(),l),N={key:0,class:"fixed inset-y-0 right-0 w-[25rem] z-[75] bg-white shadow-2xl"},j={class:"bg-blue-500 text-white p-5 flex items-center justify-between"},D=n(()=>s("h1",{class:"text-lg font-semibold"},"Activity Log",-1)),E=n(()=>s("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z","clip-rule":"evenodd"},null,-1)),F=[E],H={class:"p-2 overflow-y-auto max-h-[calc(100vh-4rem)]"},V={class:"font-semibold"},$={class:"text-sm text-red-600"},Q={key:0},R={key:1,class:"rounded overflow-hidden"},U=["onClick"],W=n(()=>s("span",null,"Data",-1)),X={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-6 h-6"},q=n(()=>s("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"},null,-1)),G=[q],J={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-6 h-6"},K=n(()=>s("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)),O=[K],P={key:0,class:"w-full"},Y={class:"even:bg-gray-100"},Z={class:"px-1 border border-gray-200 whitespace-nowrap"},ee={key:0,class:"px-1 border border-gray-200"},se={class:"flex flex-wrap items-center gap-1"},te={class:"px-1 bg-teal-500 text-xs text-white font-bold rounded"},oe=["innerHTML"],ae=n(()=>s("hr",{class:"my-2 last-of-type:hidden"},null,-1)),ne=y({__name:"ActivityLogSidebar",setup(l){const i=x(!1),_=x([]);k(()=>{w.on(f.Show,async p=>{if(i.value=!0,!p)return;const{data:u}=await L.get(`/api/activity-log/list?subjectId=${p}`);_.value=u.data})}),C(()=>w.off(f.Show));const m=()=>{_.value=[],i.value=!1};return(p,u)=>(e(),S(B,{name:"slide-fade"},{default:A(()=>[i.value?(e(),t("aside",N,[s("header",j,[D,(e(),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 cursor-pointer",onClick:m},F))]),s("main",H,[(e(!0),t(r,null,h(_.value,o=>(e(),t(r,null,[s("div",null,[s("p",null,[s("span",{class:z(["text-blue-500 font-semibold",[{"!text-emerald-500":o.event==="created"},{"!text-red-500":o.event==="deleted"}]])},a(o.event.startCase()),3),v(" by "),s("span",V,a(o.causer.name),1),v(" at "),s("span",$,a(o.date),1)]),o.description?(e(),t("p",Q,a(o.description),1)):c("",!0),o.data?(e(),t("div",R,[s("div",{class:"flex items-center justify-between bg-gray-600 text-white p-1 cursor-pointer",onClick:d=>o.expanded=!o.expanded},[W,o.expanded?(e(),t("svg",J,O)):(e(),t("svg",X,G))],8,U),o.expanded?(e(),t("table",P,[(e(!0),t(r,null,h(o.data,(d,g)=>(e(),t("tr",Y,[s("td",Z,a(g.startCase()),1),d instanceof Array?(e(),t("td",ee,[s("div",se,[(e(!0),t(r,null,h(d,b=>(e(),t("span",te,a(b),1))),256))])])):(e(),t("td",{key:1,class:"px-1 border border-gray-200 break-all",innerHTML:d},null,8,oe))]))),256))])):c("",!0)])):c("",!0)]),ae],64))),256))])])):c("",!0)]),_:1}))}});const re=T(ne,[["__scopeId","data-v-6847a599"]]);export{re as A};
