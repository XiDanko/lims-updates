import{d as P,Y as E,g as b,u as k,x as N,Q as w,V as U,o as l,c as n,a as h,w as x,b as e,i as d,j as o,k as i,n as v,t as _,v as g,X as u,_ as O,m as A,h as H,F as W,a3 as B,a4 as I,T,a0 as z}from"./main-cee2eb24.js";import{M as L}from"./Master-e24133cb.js";import{s as D}from"./multiselect-97a39018.js";import{A as F}from"./ActivityLogSidebar-55244b79.js";import"./_plugin-vue_export-helper-c27b6911.js";const R={class:"flex items-center gap-3"},$=e("h1",null,"General Settings",-1),j=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",class:"h-5 w-5"},[e("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"})],-1),G=[j],Q=["onSubmit"],X={class:"h-[calc(100vh-8.6rem)] overflow-y-auto flex flex-col justify-between"},Y={key:0,class:"mb-3 flex flex-wrap items-center"},q=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Branch",-1),J={key:0,class:"ml-52 w-full text-sm text-red-500"},K={class:"mb-3 flex flex-wrap items-center"},Z=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Patient Phone Number",-1),ee={key:0,class:"ml-52 w-full text-sm text-red-500"},te={class:"mb-3 flex flex-wrap items-center"},se=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Patient Contact Method",-1),ae={class:"flex flex-1 items-center rounded-r border border-gray-300 p-2"},re={class:"mr-5 flex items-center"},oe=e("span",{class:"ml-1"},"None",-1),le={class:"mr-5 flex items-center"},ne=e("span",{class:"ml-1"},"SMS",-1),de={class:"mr-5 flex items-center"},ie=e("span",{class:"ml-1"},"Whatsapp",-1),ue={class:"mr-5 flex items-center"},ce=e("span",{class:"ml-1"},"Telegram",-1),pe={class:"mr-5 flex items-center"},me=e("span",{class:"ml-1"},"Viber",-1),be={class:"mb-3 flex flex-wrap items-center"},he=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Result Editor Max Width",-1),ve={key:0,class:"ml-52 w-full text-sm text-red-500"},_e={class:"mb-3 flex flex-wrap items-center"},fe=e("span",{class:"w-52 rounded-l border border-r-0 border-gray-300 bg-gray-100 p-2"},"Result Editor Max Height",-1),xe={key:0,class:"ml-52 w-full text-sm text-red-500"},ge={class:"mt-3 border-t-2 border-gray-200"},ye={class:"mt-3 flex items-center"},we=["disabled"],ke=P({__name:"GeneralSettings",setup(Me){const M=E(),{hasPermissionTo:C}=T(),c=b(!1),s=b({}),f=k().user.branches,p=b(null),r=b({});N(()=>{p.value=f[0].id,y()});const y=async()=>{const{data:m}=await w.get(`/api/settings/general?branchId=${p.value}`);s.value=m.data},V=async()=>{c.value=!0;try{await w.patch("/api/settings/general",s.value),M.fetch(),z.fire()}catch(m){r.value=m.response.data.errors??{}}c.value=!1};return(m,t)=>{const S=U("tip");return l(),n(W,null,[h(L,null,{header:x(()=>[e("div",R,[$,d(C)("ActivityLog.list")?o((l(),n("button",{key:0,onClick:t[0]||(t[0]=a=>d(B).emit(d(I).Show,s.value.id)),class:"cursor-pointer"},G)),[[S,"View Activities"]]):i("",!0)])]),body:x(()=>[e("form",{id:"form",onSubmit:H(V,["prevent"])},[e("div",X,[e("div",null,[d(f).length>1?(l(),n("div",Y,[q,h(d(D),{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=a=>p.value=a),options:d(f),onSelect:y,searchable:!0,"value-prop":"id","track-by":"searchableForm",label:"name","can-clear":!1,"can-deselect":!1,class:v(["flex-1 border border-gray-300 !rounded-r",{"!border-red-500":r.value.hasOwnProperty("branchId")}])},null,8,["modelValue","options","class"]),r.value.hasOwnProperty("branchId")?(l(),n("p",J,_(r.value.branchId[0]),1)):i("",!0)])):i("",!0),e("div",K,[Z,o(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s.value.patientPhoneNumber=a),class:v(["flex-1 rounded-r border border-gray-300 p-2 focus:border-blue-500",{"!border-red-500":r.value.hasOwnProperty("patientPhoneNumber")}])},null,2),[[g,s.value.patientPhoneNumber]]),r.value.hasOwnProperty("patientPhoneNumber")?(l(),n("p",ee,_(r.value.patientPhoneNumber[0]),1)):i("",!0)]),e("div",te,[se,e("div",ae,[e("label",re,[o(e("input",{type:"radio",value:"none","onUpdate:modelValue":t[3]||(t[3]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),oe]),e("label",le,[o(e("input",{type:"radio",value:"sms","onUpdate:modelValue":t[4]||(t[4]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),ne]),e("label",de,[o(e("input",{type:"radio",value:"whatsapp","onUpdate:modelValue":t[5]||(t[5]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),ie]),e("label",ue,[o(e("input",{type:"radio",value:"telegram","onUpdate:modelValue":t[6]||(t[6]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),ce]),e("label",pe,[o(e("input",{type:"radio",value:"viber","onUpdate:modelValue":t[7]||(t[7]=a=>s.value.patientContactMethod=a)},null,512),[[u,s.value.patientContactMethod]]),me])])]),e("div",be,[he,o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>s.value.resultEditorMaxWidth=a),class:v(["flex-1 rounded-r border border-gray-300 p-2 focus:border-blue-500",{"!border-red-500":r.value.hasOwnProperty("resultEditorMaxWidth")}])},null,2),[[g,s.value.resultEditorMaxWidth]]),r.value.hasOwnProperty("resultEditorMaxWidth")?(l(),n("p",ve,_(r.value.resultEditorMaxWidth[0]),1)):i("",!0)]),e("div",_e,[fe,o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>s.value.resultEditorMaxHeight=a),class:v(["flex-1 rounded-r border border-gray-300 p-2 focus:border-blue-500",{"!border-red-500":r.value.hasOwnProperty("resultEditorMaxHeight")}])},null,2),[[g,s.value.resultEditorMaxHeight]]),r.value.hasOwnProperty("resultEditorMaxHeight")?(l(),n("p",xe,_(r.value.resultEditorMaxHeight[0]),1)):i("",!0)])]),e("footer",ge,[e("div",ye,[e("button",{class:"mr-auto btn-blue",disabled:c.value,form:"form"},[h(O,{"is-loading":c.value},{default:x(()=>[A("Save")]),_:1},8,["is-loading"])],8,we)])])])],40,Q)]),_:1}),h(F)],64)}}});export{ke as default};
