import{d as y,e as u,x as N,Q as p,o as C,R as S,w as l,k as v,t as k,b as a,n as m,g as r,h as $,v as A,f as V,a as B,_ as F,a4 as M,m as P,l as R,$ as T}from"./main-BgbWFIXK.js";import{P as n}from"./patientCallStatus-BmrBIbQr.js";const D={class:"grid grid-cols-1 gap-4"},z={class:"flex"},I={class:"relative"},L=a("label",{class:"label"},"Notes",-1),Q=["disabled"],E=y({__name:"FollowupForm",emits:["close"],setup(U,{emit:f}){const w=f,b=P(),h=R(),e=u({}),t=u(!1),c=u({});N(()=>g(b.params.id));const g=async o=>{const{data:s}=await p.get(`/api/followups/${o}`);e.value=s.data},_=async()=>{t.value=!0;try{await x(),c.value={},T.fire()}catch(o){c.value=o.response.data.errors??{}}t.value=!1},x=async()=>{await p.patch(`/api/followups/${e.value.id}`,e.value),d()},d=()=>{w("close"),h.back()};return(o,s)=>(C(),S(M,null,{header:l(()=>[v(" Calling "+k(e.value.phoneNumber),1)]),body:l(()=>[a("form",{id:"form",onSubmit:V(_,["prevent","stop"])},[a("div",D,[a("div",z,[a("span",{class:m(["mr-2 cursor-pointer rounded bg-gray-200 p-1 px-3 transition hover:bg-emerald-500 hover:text-white hover:shadow",{"!bg-emerald-500 text-white":e.value.callStatus===r(n).Answered}]),onClick:s[0]||(s[0]=i=>e.value.callStatus=r(n).Answered)},"Answered",2),a("span",{class:m(["mr-2 cursor-pointer rounded bg-gray-200 p-1 px-3 hover:bg-red-500 hover:text-white hover:shadow",{"bg-red-500 text-white":e.value.callStatus===r(n).NoAnswer}]),onClick:s[1]||(s[1]=i=>e.value.callStatus=r(n).NoAnswer)},"No Answer",2)]),a("div",I,[$(a("textarea",{"onUpdate:modelValue":s[2]||(s[2]=i=>e.value.callNotes=i),class:"py-2 input peer",rows:"4"},null,512),[[A,e.value.callNotes]]),L])])],32)]),footer:l(()=>[a("button",{class:"me-2 btn-blue",disabled:t.value,form:"form"},[B(F,{"is-loading":t.value},{default:l(()=>[v("Save")]),_:1},8,["is-loading"])],8,Q),a("button",{onClick:d,class:"btn-gray"},"Cancel")]),_:1}))}});export{E as default};
